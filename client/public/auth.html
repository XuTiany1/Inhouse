<!doctype html>
<html>
<head>
	<meta charset='utf-8'>
	<meta name='viewport' content='width=device-width'>
	<title>inhouse</title>
	<link rel='icon' type='image/png' href='/favicon.png'>
	<link rel='stylesheet' href='/global.css'>
	<link rel='stylesheet' href='/bundle.css'>
</head>

<body id="auth">
	<div class='wrapper-form'>
		<h3 class="welcome">Welcome to inhouse üè†</h3>
		<p class="subtext">Create an account with your email address and password, or use your existing credentials if you already have an account.</p>
		<form action="/login" method="POST" class="form">
			<input class="input-auth" type="text" id="email" name="email" placeholder="Email" pattern="[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,}$" oninvalid="this.setCustomValidity('Please enter a valid email address.')" oninput="this.setCustomValidity('')" required>
			<input class="input-auth" type="password" id="password" name="password" placeholder="Password" pattern=".{4,}" oninvalid="this.setCustomValidity('Password must be at least 4 characters long.')" oninput="this.setCustomValidity('')" required>
			<button type="submit">Access</button>
		</form>
	</div>


    <script>
        window.onload = function() {
            const urlParams = new URLSearchParams(window.location.search);
            const error = urlParams.get('error');

            if (error === 'wrong_password') {
                const errorMessage = document.createElement('p');
                errorMessage.textContent = 'Wrong password. Try again.';
				errorMessage.classList.add('error-message');
                document.querySelector('.wrapper-form').appendChild(errorMessage);
            }
        }
    </script>
</body>
</html>

